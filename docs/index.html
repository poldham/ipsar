<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UK Member of Parliament Expenses • ipsar</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="UK Member of Parliament Expenses">
<meta property="og:description" content="Access UK Member of Parliament Expenses from the Independent Parliamentary Standards Authority. Link the data with the UK data.parliament Member Name Information Service. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ipsar</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ipsa_dataparliament.html">Name Matching between IPSA and data.parliament</a>
    </li>
    <li>
      <a href="articles/pooled_services.html">Exploring Pooled Services</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/poldham/ipsar">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<hr>
<p><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R%3E%3D-3.4.4-6666ff.svg" alt="minimal R version"></a> <a href="https://cran.r-project.org/package=ipsar"><img src="http://www.r-pkg.org/badges/version/ipsar" alt="CRAN_Status_Badge"></a> <a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-0.0.0.9000-orange.svg?style=flat-square" alt="packageversion"></a></p>
<hr>
<p><a href="/commits/master"><img src="https://img.shields.io/badge/last%20change-2018--09--04-yellowgreen.svg" alt="Last-changedate"></a></p>
<div id="the-ipsar-package" class="section level2">
<h2 class="hasAnchor">
<a href="#the-ipsar-package" class="anchor"></a>The ipsar Package</h2>
<p>This R data package provides access to the expenses claim data for UK Members of Parliament from the <a href="http://www.theipsa.org.uk/">Independent Parliamentary Standards Authority (IPSA)</a>.</p>
<p><code>ipsar</code> aims to do two things:</p>
<ol style="list-style-type: decimal">
<li>Make MPs expenses data available in one table.</li>
<li>Build a bridge between the IPSA expenses data and the <a href="http://data.parliament.uk/membersdataplatform/memberquery.aspx"><code>data.parliament</code></a> Members’ Name Data Platform through the <a href="https://github.com/evanodell/mnis"><code>mnis</code></a> R package by <a href="https://github.com/evanodell">Evan Odell</a>.</li>
</ol>
<p>The package provides access to MPs raw expenses data for over 1.4 million expenses claims between May 2010 and the end of March 2018 (latest data). The package also links the IPSA expenses claims data with the <code>data.parliament Members' Name Data Platform</code> API service through MP standard IDs (member_id). The package aims to assist researchers interested in combining MPs expenses data with <code>data.parliament</code> data.</p>
<p><code>ipsar</code> is an independent data package based on public data and is not associated with, supported or endorsed by the Independent Parliamentary Standards Authority (IPSA).</p>
</div>
<div id="the-ipsa-expenses-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-ipsa-expenses-data" class="anchor"></a>The IPSA Expenses Data</h2>
<p>The Independent Parliamentary Standards Authority has made data on MPs expenses available since May the 7th 2010, the day after the 2010 General Election. No data is available prior to May 7th 2010. IPSA expenses data is organised by UK financial years (1st of April to 31st of March).</p>
<p>Raw expenses data for individual members is presently available as a set of .csv downloads from the IPSA website at <a href="http://www.theipsa.org.uk/mp-costs/other-published-data/" class="uri">http://www.theipsa.org.uk/mp-costs/other-published-data/</a> and by selecting the dropdown for Individual Claims for the financial year. The image below displays the drop down for accessing the raw individual financial year records from <a href="http://www.theipsa.org.uk/mp-costs/other-published-data/">IPSA</a>. For information on new releases follow IPSA on Twitter at <a href="https://twitter.com/ipsaUK">ipsaUK</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/include_graphics">include_graphics</a></span>(<span class="st">"docs/ipsa_page.png"</span>)</a></code></pre></div>
<p><img src="ipsa_page.png" width="647" style="display: block; margin: auto;"></p>
<p>For individual constituencies you can use the search tool or map on the <a href="http://www.theipsa.org.uk/mp-costs/interactive-map/">IPSA website</a>. A website called <a href="http://www.mpsexpenses.info/#!/search">MP Expenses Info</a> also provides access to MP expenses data by individual MPs and in <a href="http://www.mpsexpenses.info/#!/all">summary form</a> but does not provide access to the underlying raw data. If you are just looking for information about your MP or a quick overview then these sites are probably a better source of information.</p>
<p>New data is made available every two months and has a delay of three months.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> At the time of writing in early September 2018, the complete data for the 2017 to 2018 financial year had recently become available. The package thus provides time series data for financial years from May 2010 to the end of March 2018.</p>
</div>
<div id="installing-ipsar" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-ipsar" class="anchor"></a>Installing ipsar</h2>
<p>ipsar is not on CRAN as it contains some large files but can be installed from Github. To install it you will need devtools.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"poldham/ipsar"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(ipsar)</a></code></pre></div>
</div>
<div id="ipsar-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#ipsar-functions" class="anchor"></a>ipsar functions</h2>
<p>ipsar contains two simple convenience functions for loading the data into your global environment.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(ipsar)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">ipsar<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ipsar/topics/load_ipsa">load_ipsa</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">ipsa_name</th>
<th align="left">mps_name</th>
<th align="left">dp_name</th>
<th align="left">member_id</th>
<th align="left">current_role</th>
<th align="left">commons_short</th>
<th align="left">year</th>
<th align="left">date</th>
<th align="left">claim_no</th>
<th align="left">mps_constituency</th>
<th align="left">category</th>
<th align="left">expense_type</th>
<th align="left">short_description</th>
<th align="left">details</th>
<th align="left">journey_type</th>
<th align="left">from</th>
<th align="left">to</th>
<th align="left">travel</th>
<th align="right">nights</th>
<th align="right">mileage</th>
<th align="right">amount_claimed</th>
<th align="right">amount_paid</th>
<th align="right">amount_not_paid</th>
<th align="right">amount_repaid</th>
<th align="left">status</th>
<th align="left">reason_if_not_paid</th>
<th align="left">last_download</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">10_11</td>
<td align="left">2011-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2010-11 year</td>
<td align="left">Total payroll costs for the 2010-11 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">68686.91</td>
<td align="right">68686.91</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">11_12</td>
<td align="left">2012-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2011-12 year</td>
<td align="left">Total payroll costs for the 2011-12 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">69852.96</td>
<td align="right">69852.96</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">12_13</td>
<td align="left">2012-08-09</td>
<td align="left">Payment to Supplier</td>
<td align="left">Windsor CC</td>
<td align="left">Office Costs</td>
<td align="left">Legal Expenses Insurance</td>
<td align="left">EPL</td>
<td align="left">EPL insurance</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">604.20</td>
<td align="right">604.20</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">12_13</td>
<td align="left">2013-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2012-13 year</td>
<td align="left">Total payroll costs for the 2012-13 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">71345.27</td>
<td align="right">71345.27</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">13_14</td>
<td align="left">2013-08-09</td>
<td align="left">Payment to Supplier</td>
<td align="left">Windsor CC</td>
<td align="left">Office Costs</td>
<td align="left">Legal Expenses Insurance</td>
<td align="left">EPL</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">577.70</td>
<td align="right">577.70</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">13_14</td>
<td align="left">2014-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2013-14 year</td>
<td align="left">Total payroll costs for the 2013-14 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">89343.39</td>
<td align="right">89343.39</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
</tbody>
</table>
<p>This might take a few moments as it is a compressed file.</p>
<p>The concordance table between IPSA and <code>data.parliament</code> for MPs and former MPs is called <code>ipsa_commons</code> and can be loaded using:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">ipsar<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ipsar/topics/load_ipsa_commons">load_ipsa_commons</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">mps_name</th>
<th align="left">mps_constituency</th>
<th align="left">commons_short</th>
<th align="left">lords</th>
<th align="left">active_mp</th>
<th align="left">member_id</th>
<th align="left">dods_id</th>
<th align="left">pims_id</th>
<th align="left">clerks_id</th>
<th align="left">display_as</th>
<th align="left">list_as</th>
<th align="left">full_title</th>
<th align="left">laying_minister_name</th>
<th align="left">date_of_birth</th>
<th align="left">date_of_death</th>
<th align="left">gender</th>
<th align="left">house</th>
<th align="left">member_from</th>
<th align="left">house_start_date</th>
<th align="left">house_end_date</th>
<th align="left">party_id</th>
<th align="left">party_text</th>
<th align="left">current_status_id</th>
<th align="left">current_status_is_active</th>
<th align="left">current_status_name</th>
<th align="left">current_status_reason</th>
<th align="left">current_status_start_date</th>
<th align="left">house_membership</th>
<th align="left">ipsa_match</th>
<th align="left">current_role</th>
<th align="left">ipsa_name</th>
<th align="left">dp_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Windsor CC</td>
<td align="left">Adam Afriyie</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1586</td>
<td align="left">35516</td>
<td align="left">4734</td>
<td align="left">908</td>
<td align="left">Adam Afriyie</td>
<td align="left">Afriyie, Adam</td>
<td align="left">Adam Afriyie MP</td>
<td align="left">NA</td>
<td align="left">-139194000</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Windsor</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
</tr>
<tr class="even">
<td align="left">Adam Holloway</td>
<td align="left">Gravesham CC</td>
<td align="left">Adam Holloway</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1522</td>
<td align="left">35356</td>
<td align="left">4766</td>
<td align="left">843</td>
<td align="left">Adam Holloway</td>
<td align="left">Holloway, Adam</td>
<td align="left">Adam Holloway MP</td>
<td align="left">NA</td>
<td align="left">-139712400</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Gravesham</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Holloway</td>
<td align="left">Adam Holloway</td>
</tr>
<tr class="odd">
<td align="left">Adrian Bailey</td>
<td align="left">West Bromwich West BC</td>
<td align="left">Adrian Bailey</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">320</td>
<td align="left">25800</td>
<td align="left">3848</td>
<td align="left">22</td>
<td align="left">Mr Adrian Bailey</td>
<td align="left">Bailey, Mr Adrian</td>
<td align="left">Mr Adrian Bailey MP</td>
<td align="left">NA</td>
<td align="left">-759196800</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">West Bromwich West</td>
<td align="left">974937600</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour (Co-op)</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2000-11-23T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adrian Bailey</td>
<td align="left">Mr Adrian Bailey</td>
</tr>
<tr class="even">
<td align="left">Adrian Sanders</td>
<td align="left">Torbay BC</td>
<td align="left">Adrian Sanders</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">237</td>
<td align="left">25377</td>
<td align="left">546</td>
<td align="left">523</td>
<td align="left">Mr Adrian Sanders</td>
<td align="left">Sanders, Mr Adrian</td>
<td align="left">Mr Adrian Sanders</td>
<td align="left">NA</td>
<td align="left">-337309200</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Torbay</td>
<td align="left">862441200</td>
<td align="left">16524</td>
<td align="left">17</td>
<td align="left">Liberal Democrat</td>
<td align="left"></td>
<td align="left">False</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">list(House = “Commons”, StartDate = “1997-05-01T00:00:00”, EndDate = “2015-03-30T00:00:00”, EndReason = “Defeated”, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">Ex</td>
<td align="left">Adrian Sanders</td>
<td align="left">Mr Adrian Sanders</td>
</tr>
<tr class="odd">
<td align="left">Afzal Khan</td>
<td align="left">Manchester, Gorton BC</td>
<td align="left">Afzal Khan</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">4671</td>
<td align="left">107134</td>
<td align="left">6234</td>
<td align="left">1486</td>
<td align="left">Afzal Khan</td>
<td align="left">Khan, Afzal</td>
<td align="left">Afzal Khan MP</td>
<td align="left">NA</td>
<td align="left">-370569600</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Manchester, Gorton</td>
<td align="left">1496876400</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2017-06-08T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Afzal Khan</td>
<td align="left">Afzal Khan</td>
</tr>
<tr class="even">
<td align="left">Aidan Burley</td>
<td align="left">Cannock Chase CC</td>
<td align="left">Aidan Burley</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">3937</td>
<td align="left">72840</td>
<td align="left">5528</td>
<td align="left">1029</td>
<td align="left">Mr Aidan Burley</td>
<td align="left">Burley, Mr Aidan</td>
<td align="left">Mr Aidan Burley</td>
<td align="left">NA</td>
<td align="left">285811200</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Cannock Chase</td>
<td align="left">1273100400</td>
<td align="left">16524</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left"></td>
<td align="left">False</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">list(House = “Commons”, StartDate = “2010-05-06T00:00:00”, EndDate = “2015-03-30T00:00:00”, EndReason = “Retired”, EndNotes = “Dissolution of Parliament”)</td>
<td align="left">TRUE</td>
<td align="left">Ex</td>
<td align="left">Aidan Burley</td>
<td align="left">Mr Aidan Burley</td>
</tr>
</tbody>
</table>
<p>This table covers 950 existing and former Members of Parliament. It is important to know that:</p>
<ul>
<li>
<code>display_as</code> is the preferred <code>data.parliament</code> system name and is duplicated as <code>dp_name</code>
</li>
<li>
<code>mps_name</code> is the name used by IPSA for recording MPs expenses and is duplicated as <code>ipsa_name</code>
</li>
<li>
<code>commons_short</code> is the name used for matching between the two sources as described in the <a href="https://poldham.github.io/ipsar/articles/ipsa_dataparliament.html">vignette</a>
</li>
</ul>
<p>The key field for the <code>data.parliament</code> service is the <code>member_id</code>.</p>
</div>
<div id="historic-data" class="section level2">
<h2 class="hasAnchor">
<a href="#historic-data" class="anchor"></a>Historic Data</h2>
<p>An effort has been made to preserve the records for MPs who leave the House of Commons and those who move to the House of Lords to assist with historical research. This information is recorded in the supplementary column <code>current_role</code> as either MP, Lords or Ex. For everyday use you will normally want to drop the Ex and Lords entries. To filter only to current MPs in the <code>ipsa_commons</code> concordance table use:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">ipsa_commons <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/dplyr/topics/filter">filter</a></span>(current_role <span class="op">==</span><span class="st"> "MP"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">mps_name</th>
<th align="left">mps_constituency</th>
<th align="left">commons_short</th>
<th align="left">lords</th>
<th align="left">active_mp</th>
<th align="left">member_id</th>
<th align="left">dods_id</th>
<th align="left">pims_id</th>
<th align="left">clerks_id</th>
<th align="left">display_as</th>
<th align="left">list_as</th>
<th align="left">full_title</th>
<th align="left">laying_minister_name</th>
<th align="left">date_of_birth</th>
<th align="left">date_of_death</th>
<th align="left">gender</th>
<th align="left">house</th>
<th align="left">member_from</th>
<th align="left">house_start_date</th>
<th align="left">house_end_date</th>
<th align="left">party_id</th>
<th align="left">party_text</th>
<th align="left">current_status_id</th>
<th align="left">current_status_is_active</th>
<th align="left">current_status_name</th>
<th align="left">current_status_reason</th>
<th align="left">current_status_start_date</th>
<th align="left">house_membership</th>
<th align="left">ipsa_match</th>
<th align="left">current_role</th>
<th align="left">ipsa_name</th>
<th align="left">dp_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Windsor CC</td>
<td align="left">Adam Afriyie</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1586</td>
<td align="left">35516</td>
<td align="left">4734</td>
<td align="left">908</td>
<td align="left">Adam Afriyie</td>
<td align="left">Afriyie, Adam</td>
<td align="left">Adam Afriyie MP</td>
<td align="left">NA</td>
<td align="left">-139194000</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Windsor</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
</tr>
<tr class="even">
<td align="left">Adam Holloway</td>
<td align="left">Gravesham CC</td>
<td align="left">Adam Holloway</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1522</td>
<td align="left">35356</td>
<td align="left">4766</td>
<td align="left">843</td>
<td align="left">Adam Holloway</td>
<td align="left">Holloway, Adam</td>
<td align="left">Adam Holloway MP</td>
<td align="left">NA</td>
<td align="left">-139712400</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Gravesham</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Holloway</td>
<td align="left">Adam Holloway</td>
</tr>
<tr class="odd">
<td align="left">Adrian Bailey</td>
<td align="left">West Bromwich West BC</td>
<td align="left">Adrian Bailey</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">320</td>
<td align="left">25800</td>
<td align="left">3848</td>
<td align="left">22</td>
<td align="left">Mr Adrian Bailey</td>
<td align="left">Bailey, Mr Adrian</td>
<td align="left">Mr Adrian Bailey MP</td>
<td align="left">NA</td>
<td align="left">-759196800</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">West Bromwich West</td>
<td align="left">974937600</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour (Co-op)</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2000-11-23T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adrian Bailey</td>
<td align="left">Mr Adrian Bailey</td>
</tr>
<tr class="even">
<td align="left">Afzal Khan</td>
<td align="left">Manchester, Gorton BC</td>
<td align="left">Afzal Khan</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">4671</td>
<td align="left">107134</td>
<td align="left">6234</td>
<td align="left">1486</td>
<td align="left">Afzal Khan</td>
<td align="left">Khan, Afzal</td>
<td align="left">Afzal Khan MP</td>
<td align="left">NA</td>
<td align="left">-370569600</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Manchester, Gorton</td>
<td align="left">1496876400</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2017-06-08T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Afzal Khan</td>
<td align="left">Afzal Khan</td>
</tr>
<tr class="odd">
<td align="left">Alan Brown</td>
<td align="left">Kilmarnock and Loudoun CC</td>
<td align="left">Alan Brown</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">4470</td>
<td align="left">122026</td>
<td align="left">6027</td>
<td align="left">1270</td>
<td align="left">Alan Brown</td>
<td align="left">Brown, Alan</td>
<td align="left">Alan Brown MP</td>
<td align="left">NA</td>
<td align="left">19263600</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Kilmarnock and Loudoun</td>
<td align="left">1430953200</td>
<td align="left">NA</td>
<td align="left">29</td>
<td align="left">Scottish National Party</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2015-05-07T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Alan Brown</td>
<td align="left">Alan Brown</td>
</tr>
<tr class="even">
<td align="left">Alan Campbell</td>
<td align="left">Tynemouth BC</td>
<td align="left">Alan Campbell</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">529</td>
<td align="left">25786</td>
<td align="left">2445</td>
<td align="left">93</td>
<td align="left">Mr Alan Campbell</td>
<td align="left">Campbell, Mr Alan</td>
<td align="left">Rt Hon Alan Campbell MP</td>
<td align="left">NA</td>
<td align="left">-393987600</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Tynemouth</td>
<td align="left">862441200</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “1997-05-01T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Alan Campbell</td>
<td align="left">Mr Alan Campbell</td>
</tr>
</tbody>
</table>
<p>Or for expenses claims use:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">ipsa <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/dplyr/topics/filter">filter</a></span>(current_role <span class="op">==</span><span class="st"> "MP"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">ipsa_name</th>
<th align="left">mps_name</th>
<th align="left">dp_name</th>
<th align="left">member_id</th>
<th align="left">current_role</th>
<th align="left">commons_short</th>
<th align="left">year</th>
<th align="left">date</th>
<th align="left">claim_no</th>
<th align="left">mps_constituency</th>
<th align="left">category</th>
<th align="left">expense_type</th>
<th align="left">short_description</th>
<th align="left">details</th>
<th align="left">journey_type</th>
<th align="left">from</th>
<th align="left">to</th>
<th align="left">travel</th>
<th align="right">nights</th>
<th align="right">mileage</th>
<th align="right">amount_claimed</th>
<th align="right">amount_paid</th>
<th align="right">amount_not_paid</th>
<th align="right">amount_repaid</th>
<th align="left">status</th>
<th align="left">reason_if_not_paid</th>
<th align="left">last_download</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">10_11</td>
<td align="left">2011-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2010-11 year</td>
<td align="left">Total payroll costs for the 2010-11 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">68686.91</td>
<td align="right">68686.91</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">11_12</td>
<td align="left">2012-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2011-12 year</td>
<td align="left">Total payroll costs for the 2011-12 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">69852.96</td>
<td align="right">69852.96</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">12_13</td>
<td align="left">2012-08-09</td>
<td align="left">Payment to Supplier</td>
<td align="left">Windsor CC</td>
<td align="left">Office Costs</td>
<td align="left">Legal Expenses Insurance</td>
<td align="left">EPL</td>
<td align="left">EPL insurance</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">604.20</td>
<td align="right">604.20</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">12_13</td>
<td align="left">2013-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2012-13 year</td>
<td align="left">Total payroll costs for the 2012-13 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">71345.27</td>
<td align="right">71345.27</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">13_14</td>
<td align="left">2013-08-09</td>
<td align="left">Payment to Supplier</td>
<td align="left">Windsor CC</td>
<td align="left">Office Costs</td>
<td align="left">Legal Expenses Insurance</td>
<td align="left">EPL</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">577.70</td>
<td align="right">577.70</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
<tr class="even">
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
<td align="left">1586</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">13_14</td>
<td align="left">2014-03-31</td>
<td align="left">n/a</td>
<td align="left">Windsor CC</td>
<td align="left">Staffing</td>
<td align="left">Payroll</td>
<td align="left">Total payroll costs for the 2013-14 year</td>
<td align="left">Total payroll costs for the 2013-14 year</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">89343.39</td>
<td align="right">89343.39</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Paid</td>
<td align="left">NA</td>
<td align="left">2018-09-01</td>
</tr>
</tbody>
</table>
</div>
<div id="data-cleaning-and-name-matching-with-data-parliament" class="section level2">
<h2 class="hasAnchor">
<a href="#data-cleaning-and-name-matching-with-data-parliament" class="anchor"></a>Data Cleaning and Name Matching with Data.Parliament</h2>
<p>Data cleaning and name matching is described in detail in the <a href="https://poldham.github.io/ipsar/articles/ipsa_dataparliament.html">vignette</a>. Here is a quick summary.</p>
<p>The IPSA data frame has undergone minimal cleaning:</p>
<ul>
<li>column names converted to lower case and spaces and punctuation removed with <code><a href="http://www.rdocumentation.org/packages/janitor/topics/clean_names">janitor::clean_names()</a></code>
</li>
<li>date column converted from dd/mm/yyyy to yyyy-mm-dd with <code><a href="http://www.rdocumentation.org/packages/lubridate/topics/ymd">lubridate::ymd()</a></code>.</li>
<li>columns 14:19 converted to numeric (“nights”, “mileage”, “amount_claimed”, “amount_paid”, “amount_not_paid”, “amount_repaid”)</li>
<li>Some names appear in more than one form or have changed over time in the ipsa records. These records are left as is with details provided in the vignette.</li>
</ul>
<p><em>Linking with the Members’ Name Data Platform</em></p>
<p>The Members’ Name Data Platform (formerly the Member Name Information Service (mnis)) operated by <code>data.parliament</code> provides API access to a range of name based data. The most important of these is the member identifier number (<code>member_id</code>) as the key to data within the wider <code>data.parliament</code> services. This is not presently included with IPSA data and therefore prevents easy linking with the <code>data.parliament</code> service.</p>
<p>The <code>ipsa</code> table now includes <code>member_id</code>. A concordance table for the ipsa data is provided as <code>ipsa_commons</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">ipsar<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ipsar/topics/load_ipsa_commons">load_ipsa_commons</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">head</span>(ipsa_commons) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">mps_name</th>
<th align="left">mps_constituency</th>
<th align="left">commons_short</th>
<th align="left">lords</th>
<th align="left">active_mp</th>
<th align="left">member_id</th>
<th align="left">dods_id</th>
<th align="left">pims_id</th>
<th align="left">clerks_id</th>
<th align="left">display_as</th>
<th align="left">list_as</th>
<th align="left">full_title</th>
<th align="left">laying_minister_name</th>
<th align="left">date_of_birth</th>
<th align="left">date_of_death</th>
<th align="left">gender</th>
<th align="left">house</th>
<th align="left">member_from</th>
<th align="left">house_start_date</th>
<th align="left">house_end_date</th>
<th align="left">party_id</th>
<th align="left">party_text</th>
<th align="left">current_status_id</th>
<th align="left">current_status_is_active</th>
<th align="left">current_status_name</th>
<th align="left">current_status_reason</th>
<th align="left">current_status_start_date</th>
<th align="left">house_membership</th>
<th align="left">ipsa_match</th>
<th align="left">current_role</th>
<th align="left">ipsa_name</th>
<th align="left">dp_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Adam Afriyie</td>
<td align="left">Windsor CC</td>
<td align="left">Adam Afriyie</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1586</td>
<td align="left">35516</td>
<td align="left">4734</td>
<td align="left">908</td>
<td align="left">Adam Afriyie</td>
<td align="left">Afriyie, Adam</td>
<td align="left">Adam Afriyie MP</td>
<td align="left">NA</td>
<td align="left">-139194000</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Windsor</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Afriyie</td>
<td align="left">Adam Afriyie</td>
</tr>
<tr class="even">
<td align="left">Adam Holloway</td>
<td align="left">Gravesham CC</td>
<td align="left">Adam Holloway</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">1522</td>
<td align="left">35356</td>
<td align="left">4766</td>
<td align="left">843</td>
<td align="left">Adam Holloway</td>
<td align="left">Holloway, Adam</td>
<td align="left">Adam Holloway MP</td>
<td align="left">NA</td>
<td align="left">-139712400</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Gravesham</td>
<td align="left">1115247600</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2005-05-05T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adam Holloway</td>
<td align="left">Adam Holloway</td>
</tr>
<tr class="odd">
<td align="left">Adrian Bailey</td>
<td align="left">West Bromwich West BC</td>
<td align="left">Adrian Bailey</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">320</td>
<td align="left">25800</td>
<td align="left">3848</td>
<td align="left">22</td>
<td align="left">Mr Adrian Bailey</td>
<td align="left">Bailey, Mr Adrian</td>
<td align="left">Mr Adrian Bailey MP</td>
<td align="left">NA</td>
<td align="left">-759196800</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">West Bromwich West</td>
<td align="left">974937600</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour (Co-op)</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2000-11-23T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Adrian Bailey</td>
<td align="left">Mr Adrian Bailey</td>
</tr>
<tr class="even">
<td align="left">Adrian Sanders</td>
<td align="left">Torbay BC</td>
<td align="left">Adrian Sanders</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">237</td>
<td align="left">25377</td>
<td align="left">546</td>
<td align="left">523</td>
<td align="left">Mr Adrian Sanders</td>
<td align="left">Sanders, Mr Adrian</td>
<td align="left">Mr Adrian Sanders</td>
<td align="left">NA</td>
<td align="left">-337309200</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Torbay</td>
<td align="left">862441200</td>
<td align="left">16524</td>
<td align="left">17</td>
<td align="left">Liberal Democrat</td>
<td align="left"></td>
<td align="left">False</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">list(House = “Commons”, StartDate = “1997-05-01T00:00:00”, EndDate = “2015-03-30T00:00:00”, EndReason = “Defeated”, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">Ex</td>
<td align="left">Adrian Sanders</td>
<td align="left">Mr Adrian Sanders</td>
</tr>
<tr class="odd">
<td align="left">Afzal Khan</td>
<td align="left">Manchester, Gorton BC</td>
<td align="left">Afzal Khan</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">4671</td>
<td align="left">107134</td>
<td align="left">6234</td>
<td align="left">1486</td>
<td align="left">Afzal Khan</td>
<td align="left">Khan, Afzal</td>
<td align="left">Afzal Khan MP</td>
<td align="left">NA</td>
<td align="left">-370569600</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Manchester, Gorton</td>
<td align="left">1496876400</td>
<td align="left">NA</td>
<td align="left">15</td>
<td align="left">Labour</td>
<td align="left">0</td>
<td align="left">True</td>
<td align="left">Current Member</td>
<td align="left">NA</td>
<td align="left">1496876400</td>
<td align="left">list(House = “Commons”, StartDate = “2017-06-08T00:00:00”, EndDate = list(<code>@xsi:nil</code> = “true”, <code>@xmlns:xsi</code> = “<a href="http://www.w3.org/2001/XMLSchema-instance" class="uri">http://www.w3.org/2001/XMLSchema-instance</a>”), EndReason = NULL, EndNotes = NULL)</td>
<td align="left">TRUE</td>
<td align="left">MP</td>
<td align="left">Afzal Khan</td>
<td align="left">Afzal Khan</td>
</tr>
<tr class="even">
<td align="left">Aidan Burley</td>
<td align="left">Cannock Chase CC</td>
<td align="left">Aidan Burley</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">3937</td>
<td align="left">72840</td>
<td align="left">5528</td>
<td align="left">1029</td>
<td align="left">Mr Aidan Burley</td>
<td align="left">Burley, Mr Aidan</td>
<td align="left">Mr Aidan Burley</td>
<td align="left">NA</td>
<td align="left">285811200</td>
<td align="left">NA</td>
<td align="left">M</td>
<td align="left">Commons</td>
<td align="left">Cannock Chase</td>
<td align="left">1273100400</td>
<td align="left">16524</td>
<td align="left">4</td>
<td align="left">Conservative</td>
<td align="left"></td>
<td align="left">False</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">list(House = “Commons”, StartDate = “2010-05-06T00:00:00”, EndDate = “2015-03-30T00:00:00”, EndReason = “Retired”, EndNotes = “Dissolution of Parliament”)</td>
<td align="left">TRUE</td>
<td align="left">Ex</td>
<td align="left">Aidan Burley</td>
<td align="left">Mr Aidan Burley</td>
</tr>
</tbody>
</table>
<p>Matching ipsa and data.parliament data involved three main issues</p>
<ol style="list-style-type: decimal">
<li>The <code>ipsa</code> <code>mps_name</code> field does not exactly match with the name fields in the <code>data.parliament</code> data, notably the <code>display_name</code> field in <code>data.parliament</code>.<br>
</li>
<li>At each election MPs leave the House. Where an MP leaves the House entirely this is recorded in the mnis <code>house_end</code> column. Where an MP continues in post the <code>house_end</code> data is NA (Not Available). Where an MP moves to the House of Lords, their history as an MP effectively disappears in the <code>data.parliament</code> data and their name changes in the record (e.g. former Labour MP David Blunkett became Lord Blunkett). This means that their name no longer matches with the IPSA name. The package seeks to preserve the link to assist with historical research.</li>
<li>MPs may leave the house between elections as a result of by-electioons. New MPs may not appear for some months in IPSA data.</li>
</ol>
<p>The cleaning steps involved in harmonizing the datasets are covered in detail in the package <a href="">vignette</a>.</p>
<p><em>The current_role column</em></p>
<p>To enable historical research a column <code>current_role</code> has been added. This involves allocating members to three categories:</p>
<ul>
<li>MP</li>
<li>Lords</li>
<li>Ex</li>
</ul>
<p>Where a former MP has moved to the Lords they are recorded as Lords even though they are no longer covered by the IPSA system (because IPSA only deals with MPs expenses claims). A summary of these entries can be seen below.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">ipsa_commons <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">count</span>(., current_role) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">current_role</th>
<th align="right">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Ex</td>
<td align="right">271</td>
</tr>
<tr class="even">
<td align="left">Lords</td>
<td align="right">31</td>
</tr>
<tr class="odd">
<td align="left">MP</td>
<td align="right">650</td>
</tr>
</tbody>
</table>
<p>This produces the expected 650 MPs at the time of writing on the 2018-09-03.</p>
<p>The actual expenses data consisting of over 1.4 million records is presented as is. Note that the category, expense_type, short_description and details columns are likely to require significant clean up to arrive at consistent results. In addition attention is drawn to the need to review the <code>amount_claimed</code>, <code>amount_paid</code>, <code>amount_not_paid</code> and <code>amount_repaid</code> columns when exploring MPs expenses to avoid under or overcounting.</p>
</div>
<div id="disclaimer-and-licensing-information" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer-and-licensing-information" class="anchor"></a>Disclaimer and Licensing Information</h2>
<p>The <code>ipsar</code> package has been developed independently from the Independent Parliamentary Standards Authority (IPSA) using data made publicly available by IPSA in fulfilment of its mandate from the UK Parliament. As noted above <code>ipsar</code> is an independent data package based on public data and is not associated with, supported or endorsed by the Independent Parliamentary Standards Authority (IPSA). The <code>ipsar</code> package is provided without warranty. Members’ Name Data Platform information (MNIS) data from <code>data.parliament</code> is made available under the <a href="https://www.parliament.uk/site-information/copyright-parliament/open-parliament-licence/">Open Parliament Licence</a>.</p>
<p>Please notify the package author of corrections at <a href="https://github.com/poldham/ipsar/issues" class="uri">https://github.com/poldham/ipsar/issues</a></p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>see <a href="http://www.theipsa.org.uk/mp-costs/" class="uri">http://www.theipsa.org.uk/mp-costs/</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/poldham/ipsar">https://​github.com/​poldham/​ipsar</a>
</li>
<li>Report a bug at <br><a href="https://github.com/poldham/ipsar/issues">https://​github.com/​poldham/​ipsar/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php">MIT</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Paul Oldham <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1013-4390" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.repostatus.org/#wip"><img src="http://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP – Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
<li><a href="http://choosealicense.com/licenses/mit/"><img src="https://img.shields.io/github/license/mashape/apistatus.svg" alt="Licence"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Paul Oldham.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
